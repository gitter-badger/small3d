CMAKE_MINIMUM_REQUIRED(VERSION 3.0.2)

PROJECT(small3d)
SUBDIRS(small3d samplegame)

SET(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake)

IF (APPLE OR WIN32)
  SET(DEPS_PATH "${CMAKE_SOURCE_DIR}/deps")
  SET(CMAKE_PREFIX_PATH ${DEPS_PATH})
  IF (APPLE)
    SET(GLEW_LIBRARY "${DEPS_PATH}/lib/libGLEW.a")
  ENDIF ()
ENDIF ()

FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(SDL2 REQUIRED)
FIND_PACKAGE(SDL2_ttf REQUIRED)
FIND_PACKAGE(GLEW REQUIRED)
FIND_PACKAGE(PNG REQUIRED)
FIND_PACKAGE(GLM)
FIND_PACKAGE(OGG REQUIRED)
FIND_PACKAGE(VORBIS REQUIRED)
FIND_PACKAGE(PORTAUDIO REQUIRED)

IF (WIN32)
  FILE(COPY "small3d/resources" DESTINATION "./small3d/src/Debug")
  FILE(COPY "samplegame/resources" DESTINATION "./small3d/src/Debug")
  FILE(COPY "small3d/resources" DESTINATION "./samplegame/src/Debug")
  FILE(COPY "samplegame/resources" DESTINATION "./samplegame/src/Debug")
  # FILE(COPY "small3d/resources" DESTINATION "./small3d/src/Release")
  # FILE(COPY "samplegame/resources" DESTINATION "./small3d/src/Release")
  # FILE(COPY "small3d/resources" DESTINATION "./samplegame/src/Release")
  # FILE(COPY "samplegame/resources" DESTINATION "./samplegame/src/Release")
ELSE (WIN32)
  FILE(COPY "small3d/resources" DESTINATION "./small3d/src")
  FILE(COPY "samplegame/resources" DESTINATION "./small3d/src")
  FILE(COPY "small3d/resources" DESTINATION "./samplegame/src")
  FILE(COPY "samplegame/resources" DESTINATION "./samplegame/src")
ENDIF (WIN32)

